"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[220],{8519:(e,s,t)=>{t.a(e,async(e,s)=>{try{var a=t(9134);await t(1325).Z.initLang(),(0,a.Z)(),s()}catch(e){s(e)}},1)},9134:(e,s,a)=>{a.d(s,{Z:()=>f});var u=a(5893),m=a(7294),t=a(745),r=a(9655),g=a(9250),n=a(3729);const i=()=>{const s=(0,g.s0)();return(0,n.GP)(n.id,"GET").then(e=>{0==e.data&&s("/init")}),(0,n.bG)().then(e=>{403==e.status&&s("/login")}),(0,u.jsx)("div",{children:"Hello Seaper!"})},o=()=>(0,u.jsx)("h1",{children:"Oh no! Page Not Found!"});var h=a(1325);const p=new class{async init(e,s){return(await(0,n.GP)(n.id,"POST",{username:e,password:s})).data}},w={card:"card_sTMxt","card-fi":"card-fi_t8aic",icon:"icon_IuB8M","icon-fi":"icon-fi_b7BmH",background:"background_BzUJO",note:"note_PNqEV",title:"title_WDO4h",des:"des_z3KMF",btn:"btn_vL6iX",btn_text:"btn_text_t_F4r",show:"show_U6F2J",hide:"hide_LrXms",ready:"ready_V04Ow",aniBack:"aniBack_rRbmP",ani:"ani_f7Bd6",aniShow:"aniShow__SN4W",aniHide:"aniHide_X9hvK",lang:"lang_NruD7",form:"form_jFi2L",formItem:"formItem_rRCSB",input:"input_ROvA6"};var x=a(5212),v=a(5087),Z=a(4286),j=a(9131);const l=()=>{const e=(0,g.s0)(),[s,a]=(0,m.useState)(0),[t,r]=(0,m.useState)(1),[n,i]=(0,m.useState)([!0,!0,!0]),[o,l]=(0,m.useState)({username:"",password:""}),[c,d]=(0,m.useState)("");return(0,u.jsxs)("div",{className:w.background,children:[(0,u.jsx)("div",{className:`${0==s||3==s?w.show:w.hide} `+(2==s?w.ready:""),children:(0,u.jsxs)("div",{className:w.card,children:[(0,u.jsx)("p",{className:w.title,children:h.Z.msg("init.p"+t+"-title")}),(0,u.jsxs)("p",{className:w.des,children:[h.Z.msg("init.p"+t+"-des"),(0,u.jsx)("br",{})]}),2==t?(0,u.jsx)("div",{children:(0,u.jsx)(v.Z,{className:w.lang,showSearch:!0,status:n[0]?"":"error",placeholder:h.Z.msg("init.p2-sel"),onChange:function(e){d(e)},filterOption:(e,s)=>{return(null!=(s=null==s?void 0:s.label)?s:"").toString().toLowerCase().includes(e.toLowerCase())},options:h.Z.langs})}):null,3==t?(0,u.jsxs)("div",{className:w.form,children:[(0,u.jsxs)("div",{className:w.formItem,children:[h.Z.msg("user.username"),":",(0,u.jsx)(Z.Z,{className:w.input,status:n[1]?"":"error",placeholder:h.Z.msg("init.p3-nameInput"),onChange:e=>{return e=e,(s=o).username=e.target.value,void l(s);var s}})]}),(0,u.jsxs)("div",{className:w.formItem,children:[h.Z.msg("user.password"),":",(0,u.jsx)(Z.Z.Password,{className:w.input,status:n[2]?"":"error",placeholder:h.Z.msg("init.p3-passInput"),onChange:e=>{return e=e,(s=o).password=e.target.value,void l(s);var s}})]})]}):null,(0,u.jsx)("div",{className:w.btn,onClick:async function(){4==t?e("/"):await async function(){let e;switch(t){case 2:if(e=!0,""==c&&(x.Z.error({message:h.Z.msg("error.title"),description:h.Z.msg("error.notSelectLang")}),e=!1),e){var s=await h.Z.setLang(c,!0);if("OK"!=s)return x.Z.error({message:h.Z.msg("error.title"),description:s}),i([!0,!0,!0]),!1}return i([e,!0,!0]),e;case 3:if(e=[!0,!0,!0],""==o.username&&(x.Z.error({message:h.Z.msg("error.title"),description:h.Z.msg("user.usernameNull")}),e[1]=!1),""==o.password&&(x.Z.error({message:h.Z.msg("error.title"),description:h.Z.msg("user.passwordNull")}),e[2]=!1),e[1]&&e[2])if(o.password.length<5)x.Z.error({message:h.Z.msg("error.title"),description:h.Z.msg("user.passwordTooShort")}),e[2]=!1;else{s=await p.init(o.username,j.V8.hashStr(o.password));if("OK"!=s)return x.Z.error({message:h.Z.msg("error.title"),description:s}),i([!0,!0,!0]),!1}return i(e),e[1]&&e[2];default:return!0}}()&&(console.log("Next Step"),a(1),setTimeout(()=>{console.log("Ani Ready"),a(2),r(t+1),console.log("Step Change: "+t),setTimeout(()=>{console.log("Ani Start"),a(3)},800)},800))},children:(0,u.jsx)("p",{className:w.btn_text,children:1==t?h.Z.msg("step.start"):4==t?h.Z.msg("step.over"):h.Z.msg("step.next")})}),(0,u.jsx)("i",{className:`seaperIcon sicon-${1==t?"publish":2==t?"earth":3==t?"user":"ok"} `+w.icon})]})}),(0,u.jsxs)("div",{className:w.aniBack,children:[(0,u.jsx)("img",{src:"/image/init-2.png",title:"init-2",className:w.ani+" "+(1<t?w.aniShow:w.aniHide)}),(0,u.jsx)("img",{src:"/image/init-3.png",title:"init-3",className:w.ani+" "+(2<t?w.aniShow:w.aniHide)}),(0,u.jsx)("img",{src:"/image/init-4.png",title:"init-4",className:w.ani+" "+(3<t?w.aniShow:w.aniHide)})]}),(0,u.jsx)("p",{className:w.note,children:"Powered By Xiaoyi311 & SkyWorldStudio"})]})},c={background:"background_4yA8w",note:"note_fOi2x",opaCard:"opaCard_spPZA"},d=()=>(0,u.jsxs)("div",{className:c.background,children:[(0,u.jsx)("div",{className:c.opaCard}),(0,u.jsx)("p",{className:c.note,children:"Powered By Xiaoyi311 & SkyWorldStudio"})]}),f=()=>{var e=(0,r.cP)([{path:"/",element:(0,u.jsx)(i,{})},{path:"/init",element:(0,u.jsx)(l,{})},{path:"/login",element:(0,u.jsx)(d,{})},{path:"*",element:(0,u.jsx)(o,{})}]);(0,t.s)(document.getElementById("root")).render((0,u.jsx)(m.StrictMode,{children:(0,u.jsx)(g.pG,{router:e})}))}},1325:(e,s,a)=>{a.d(s,{Z:()=>r});var t=a(3729);const r=new class{constructor(){this.langs=[]}async initLang(){console.log("Getting Lang"),this.langData=(await(0,t.GP)(t.wv,"GET")).data;var s=(await(0,t.GP)(t.gX,"GET")).data;for(let e=0;e<s.length;e++)this.langs[e]={label:s[e].name,value:s[e].code}}msg(e){let s=this.langData;return e.split(".").forEach(e=>{s=s[e]}),null==s?e:s}async setLang(e,s){return null!=s?(s=await(0,t.GP)(t.jU,"POST",{lang:e}),this.initLang(),s.data):""}}},3729:(e,s,a)=>{a.d(s,{GP:()=>async function(e,s,a,t){s=await r.Z.request({method:s,url:e,data:a,params:t,validateStatus:e=>200==e||400==e});if(200==s.status||400==s.status)return(null!=s.data.status?s:s.data).data;throw new Error("Error Response Code!")},bG:()=>async function(){var e=await r.Z.request({method:"GET",url:n,validateStatus:e=>200==e||403==e});if(200==e.status||403==e.status)return null!=e.data.status?e:e.data;throw new Error("Error Response Code!")},gX:()=>o,id:()=>t,jU:()=>l,wv:()=>i});var r=a(2861);s="/api/user";const t=s+"/init",n=s+"/info";a="/api/lang";const i=a+"/get",o=a+"/list",l=a+"/init"}},e=>{e.O(0,[377,514,24,576],()=>e(e.s=8519)),e.O()}]);