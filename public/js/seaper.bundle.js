"use strict";(self.webpackChunkseaper_front=self.webpackChunkseaper_front||[]).push([[220],{8519:(e,s,n)=>{n.a(e,async(e,s)=>{try{var a=n(8091);await n(1325).Z.initLang(),(0,a.Z)(),s()}catch(e){s(e)}},1)},8091:(e,s,a)=>{a.d(s,{Z:()=>Z});var g=a(5893),m=a(7294),n=a(745),t=a(9655),p=a(9250),r=a(3729);const i=()=>{const s=(0,p.s0)();return(0,r.GP)(r.id,"GET").then(e=>{0==e.data&&s("/init")}),(0,r.bG)().then(e=>{403==e.status&&s("/login")}),(0,g.jsx)("div",{children:"Hello Seaper!"})},l=()=>(0,g.jsx)("h1",{children:"Oh no! Page Not Found!"});var u=a(1325);const h=new class{async init(e,s){return(await(0,r.GP)(r.id,"POST",{username:e,password:s})).data}},x={card:"card_sTMxt","card-fi":"card-fi_t8aic",icon:"icon_IuB8M","icon-fi":"icon-fi_b7BmH",background:"background_BzUJO",note:"note_PNqEV",title:"title_WDO4h",des:"des_z3KMF",btn:"btn_vL6iX",btn_text:"btn_text_t_F4r",show:"show_U6F2J",hide:"hide_LrXms",ready:"ready_V04Ow",aniBack:"aniBack_rRbmP",ani:"ani_f7Bd6",aniShow:"aniShow__SN4W",aniHide:"aniHide_X9hvK",lang:"lang_NruD7",form:"form_jFi2L",formItem:"formItem_rRCSB",input:"input_ROvA6"};var j=a(5212),v=a(5087),N=a(7072),f=a(9131);const w=e=>u.Z.msg(e.node).split("\n").map((e,s)=>[0!=s?(0,g.jsx)("br",{}):"",e]),o=()=>{const e=(0,p.s0)(),[s,a]=(0,m.useState)(0),[n,t]=(0,m.useState)(1),[i,r]=(0,m.useState)([!0,!0,!0]),[l,o]=(0,m.useState)({username:"",password:""}),[d,c]=(0,m.useState)("");return(0,g.jsxs)("div",{className:x.background,children:[(0,g.jsx)("div",{className:`${0==s||3==s?x.show:x.hide} `+(2==s?x.ready:""),children:(0,g.jsxs)("div",{className:x.card,children:[(0,g.jsx)("p",{className:x.title,children:(0,g.jsx)(w,{node:"init.p"+n+"-title"})}),(0,g.jsx)("p",{className:x.des,children:(0,g.jsx)(w,{node:"init.p"+n+"-des"})}),2==n?(0,g.jsx)("div",{children:(0,g.jsx)(v.Z,{className:x.lang,showSearch:!0,status:i[0]?"":"error",placeholder:u.Z.msg("init.p2-sel"),onChange:function(e){c(e)},filterOption:(e,s)=>{return(null!=(s=null==s?void 0:s.label)?s:"").toString().toLowerCase().includes(e.toLowerCase())},options:u.Z.langs})}):null,3==n?(0,g.jsxs)("div",{className:x.form,children:[(0,g.jsxs)("div",{className:x.formItem,children:[(0,g.jsx)(w,{node:"user.username"}),":",(0,g.jsx)(N.Z,{className:x.input,status:i[1]?"":"error",placeholder:u.Z.msg("init.p3-nameInput"),onChange:e=>{return e=e,(s=l).username=e.target.value,void o(s);var s}})]}),(0,g.jsxs)("div",{className:x.formItem,children:[(0,g.jsx)(w,{node:"user.password"}),":",(0,g.jsx)(N.Z.Password,{className:x.input,status:i[2]?"":"error",placeholder:u.Z.msg("init.p3-passInput"),onChange:e=>{return e=e,(s=l).password=e.target.value,void o(s);var s}})]})]}):null,(0,g.jsx)("div",{className:x.btn,onClick:async function(){4==n?e("/"):await async function(){let e;switch(n){case 2:if(e=!0,""==d&&(j.Z.error({message:u.Z.msg("error.title"),description:u.Z.msg("error.notSelectLang")}),e=!1),e){var s=await u.Z.setLang(d,!0);if("OK"!=s)return j.Z.error({message:u.Z.msg("error.title"),description:s}),r([!0,!0,!0]),!1}return r([e,!0,!0]),e;case 3:if(e=[!0,!0,!0],""==l.username&&(j.Z.error({message:u.Z.msg("error.title"),description:u.Z.msg("user.usernameNull")}),e[1]=!1),""==l.password&&(j.Z.error({message:u.Z.msg("error.title"),description:u.Z.msg("user.passwordNull")}),e[2]=!1),e[1]&&e[2])if(l.password.length<5)j.Z.error({message:u.Z.msg("error.title"),description:u.Z.msg("user.passwordTooShort")}),e[2]=!1;else{s=await h.init(l.username,f.V8.hashStr(l.password));if("OK"!=s)return j.Z.error({message:u.Z.msg("error.title"),description:s}),r([!0,!0,!0]),!1}return r(e),e[1]&&e[2];default:return!0}}()&&(console.log("Next Step"),a(1),setTimeout(()=>{console.log("Ani Ready"),a(2),t(n+1),console.log("Step Change: "+n),setTimeout(()=>{console.log("Ani Start"),a(3)},800)},800))},children:(0,g.jsx)("p",{className:x.btn_text,children:(0,g.jsx)(w,{node:1==n?"step.start":4==n?"step.over":"step.next"})})}),(0,g.jsx)("i",{className:`seaperIcon sicon-${1==n?"publish":2==n?"earth":3==n?"user":"ok"} `+x.icon})]})}),(0,g.jsxs)("div",{className:x.aniBack,children:[(0,g.jsx)("img",{src:"/image/init-2.png",title:"init-2",className:x.ani+" "+(1<n?x.aniShow:x.aniHide)}),(0,g.jsx)("img",{src:"/image/init-3.png",title:"init-3",className:x.ani+" "+(2<n?x.aniShow:x.aniHide)}),(0,g.jsx)("img",{src:"/image/init-4.png",title:"init-4",className:x.ani+" "+(3<n?x.aniShow:x.aniHide)})]}),(0,g.jsx)("p",{className:x.note,children:"Powered By Xiaoyi311 & SkyWorldStudio"})]})};var d=a(1586);const c={background:"background_4yA8w",pageNote:"pageNote_HJPs4",opaCard:"opaCard_spPZA",fadeIn:"fadeIn_q8BMD",loginImg:"loginImg__NzBp",panel:"panel_Wxmyy",panels:"panels_aZaIq",page:"page_tEGgG",title:"title_Y4fRJ",diver:"diver_NqUi3",pageTitle:"pageTitle_yYXPd",pageDes:"pageDes_GbfoJ",pageSTitle:"pageSTitle_K3RZ5",login:"login_hP0xf",loginInfo:"loginInfo_I1XZ5",input:"input_zRjmK",btn:"btn_PYbgj",note:"note_fOi2x",bottomImg:"bottomImg_msmcp"},_=()=>{const[a,n]=(0,m.useState)(!0),[s,t]=(0,m.useState)({username:"",password:""}),i=(0,p.s0)();var e=()=>{var e=document.getElementById("page");const s=document.getElementById("panel");null!=e&&null!=s&&(e.style.opacity="0",s.style.right=a?"545px":"0"),setTimeout(()=>{n(!a);var e=document.getElementById("page");null!=e&&null!=s&&(e.style.opacity="1")},500)};return(0,g.jsxs)("div",{className:c.background,children:[(0,g.jsxs)("div",{className:c.opaCard,children:[(0,g.jsx)("img",{className:c.loginImg,alt:"left",src:"/image/Login-Left.png"}),(0,g.jsx)("img",{className:c.loginImg,style:{marginRight:"32px"},alt:"left",src:"/image/Login-Right.png"}),(0,g.jsxs)("div",{id:"panel",className:c.panel,children:[(0,g.jsxs)("div",{className:c.panels,children:[(0,g.jsxs)("div",{className:c.title,children:[(0,g.jsx)("span",{children:(0,g.jsx)(w,{node:"login.welcome"})}),(0,g.jsx)("img",{alt:"icon",src:"/image/Icon.png"}),(0,g.jsx)("span",{children:"Seaper"})]}),(0,g.jsx)("div",{className:c.diver}),a?(0,g.jsxs)("div",{id:"page",className:c.page,children:[(0,g.jsx)("span",{className:c.pageTitle,children:(0,g.jsx)(w,{node:"login.login"})}),(0,g.jsx)("span",{className:c.pageDes,children:(0,g.jsx)(w,{node:"login.loginDes"})}),(0,g.jsxs)("div",{className:c.login,children:[(0,g.jsxs)("div",{className:c.loginInfo,children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{children:(0,g.jsx)(w,{node:"user.username"})}),(0,g.jsx)(N.Z,{onChange:e=>t({username:e.target.value,password:s.password}),className:c.input,placeholder:u.Z.msg("user.inputUsername")})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{children:(0,g.jsx)(w,{node:"user.password"})}),(0,g.jsx)(N.Z.Password,{onChange:e=>t({username:s.username,password:f.V8.hashStr(e.target.value)}),className:c.input,placeholder:u.Z.msg("user.inputPassword")})]})]}),(0,g.jsxs)("div",{className:c.btn,children:[(0,g.jsx)(d.ZP,{onClick:()=>{console.log(s),(0,r.GP)(r.Zq,"POST",s).then(e=>{"OK"==e.data?i("/"):j.Z.error({message:u.Z.msg("error.title"),description:e.data})})},style:{marginTop:"20px"},type:"primary",children:(0,g.jsx)(w,{node:"login.loginPanel"})}),(0,g.jsx)(d.ZP,{onClick:e,children:(0,g.jsx)(w,{node:"login.forget"})})]})]}),(0,g.jsx)("div",{id:"forget",className:c.note,children:(0,g.jsx)("span",{children:(0,g.jsx)(w,{node:"login.tips"})})})]}):(0,g.jsxs)("div",{id:"page",className:c.page,children:[(0,g.jsx)("span",{className:c.pageTitle,children:(0,g.jsx)(w,{node:"login.forget"})}),(0,g.jsx)("span",{className:c.pageDes,children:(0,g.jsx)(w,{node:"login.forgetDes"})}),(0,g.jsx)("span",{className:c.pageSTitle,children:(0,g.jsx)(w,{node:"login.forgetT1"})}),(0,g.jsx)("span",{className:c.pageDes,children:(0,g.jsx)("li",{children:(0,g.jsx)(w,{node:"login.forgetD1"})})}),(0,g.jsx)("span",{className:c.pageSTitle,children:(0,g.jsx)(w,{node:"login.forgetT2"})}),(0,g.jsxs)("span",{className:c.pageDes,children:[(0,g.jsx)("li",{children:(0,g.jsx)(w,{node:"login.forgetD2"})}),(0,g.jsx)("li",{children:(0,g.jsx)(w,{node:"login.forgetD3"})})]}),(0,g.jsx)("div",{style:{display:"flex",justifyContent:"space-around"},children:(0,g.jsx)(d.ZP,{type:"primary",style:{width:"180px",height:"43px"},onClick:e,children:(0,g.jsx)(w,{node:"login.backLogin"})})})]})]}),(0,g.jsx)("img",{className:c.bottomImg,src:"/image/Login-Bottom.png",title:"background"})]})]}),(0,g.jsx)("img",{src:"/image/Login.png",title:"background"}),(0,g.jsx)("p",{className:c.pageNote,children:"Powered By Xiaoyi311 & SkyWorldStudio"})]})},Z=()=>{var e=(0,t.cP)([{path:"/",element:(0,g.jsx)(i,{})},{path:"/init",element:(0,g.jsx)(o,{})},{path:"/login",element:(0,g.jsx)(_,{})},{path:"*",element:(0,g.jsx)(l,{})}]);(0,n.s)(document.getElementById("root")).render((0,g.jsx)(m.StrictMode,{children:(0,g.jsx)(p.pG,{router:e})}))}},1325:(e,s,a)=>{a.d(s,{Z:()=>t});var n=a(3729);const t=new class{constructor(){this.langs=[]}async initLang(){console.log("Getting Lang"),this.langData=(await(0,n.GP)(n.wv,"GET")).data;var s=(await(0,n.GP)(n.gX,"GET")).data;for(let e=0;e<s.length;e++)this.langs[e]={label:s[e].name,value:s[e].code}}msg(e){let s=this.langData;return e.split(".").forEach(e=>{s=s[e]}),null==s?e:s}async setLang(e,s){return null!=s?(s=await(0,n.GP)(n.jU,"POST",{lang:e}),this.initLang(),s.data):""}}},3729:(e,s,a)=>{a.d(s,{GP:()=>async function(e,s,a,n){s=await t.Z.request({method:s,url:e,data:a,params:n,validateStatus:e=>200==e||400==e});if(200==s.status||400==s.status)return s.data;throw new Error("Error Response Code!")},Zq:()=>r,bG:()=>async function(){var e=await t.Z.request({method:"GET",url:i,validateStatus:e=>200==e||403==e});if(200==e.status||403==e.status)return e;throw new Error("Error Response Code!")},gX:()=>o,id:()=>n,jU:()=>d,wv:()=>l});var t=a(2861);s="/api",a=s+"/user";const n=a+"/init",i=a+"/info";const r="/api/user/auth/login";a=s+"/lang";const l=a+"/get",o=a+"/list",d=a+"/init"}},e=>{e.O(0,[377,514,24,576],()=>e(e.s=8519)),e.O()}]);